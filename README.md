# BLPS-Refactoring (Lab1-Lab2-Lab3)
Описать бизнес-процесс в соответствии с нотацией BPMN 2.0, после чего реализовать его в виде приложения на базе Spring Boot.
![Photo-bpmn](https://github.com/Icerzack/blps-ref/assets/24461208/adff9c14-d2e7-4409-aa6b-98bad24b7ec2)

## Управление транзакциями необходимо реализовать следующим образом:
1. Управление транзакциями необходимо реализовать с помощью Spring JTA.
2. В реализованных (или модифицированных) прецедентах необходимо использовать программное управление транзакциями.
3. В качестве менеджера транзакций необходимо использовать Atomikos.
4. Разграничение доступа к операциям необходимо реализовать следующим образом:
5. Разработать, специфицировать и согласовать с преподавателем набор привилегий, в соответствии с которыми будет разграничиваться доступ к операциям.
6. Специфицировать и согласовать с преподавателем набор ролей, осуществляющих доступ к операциям бизнес-логики приложения.
7. Реализовать разработанную модель разграничений доступа к операциям бизнес-логики на базе Spring Security. Информацию об учётных записах пользователей необходимо сохранять в реляционую базу данных, для аутентификации использовать HTTP basic.

Роли:
1. Неавторизованный пользователь – может полностью пройти путь по оформлению заказа, но не способен добавлять карты и номера телефона, так как он еще не в базе
2. Авторизованный пользователь – может в добавок к возможностям неавторизованного пользователя добавлять карты и телефоны
3. Администратор – может удалять у пользователей карты и телефоны

Соответствующие ручки:
1. Авторизованный – /v1/user/** 
2. Администратор – /v1/admin/**
3. Неавторизованный – /v1/** (permitAll)


## Требования к реализации асинхронной обработки:

Перед выполнением работы неободимо согласовать с преподавателем набор прецедентов, в реализации которых целесообразно использование асинхронного распределённого выполнения задач. Если таких прецедентов использования в имеющейся бизнес-процесса нет, нужно согласовать реализацию новых прецедентов, доработав таким образом модель бизнес-процесса из лабораторной работы #1.

Асинхронное выполнение задач должно использовать модель доставки "подписка".

В качестве провайдера сервиса асинхронного обмена сообщениями необходимо использовать сервис подписки на базе Apache Kafka + ZooKeeper.

Для отправки сообщений необходимо использовать Kafka Producer API.

Для получения сообщений необходимо использовать клиент Kafka на базе Spring Boot.

## Требования к реализации распределённой обработки:

Обработка сообщений должна осуществляться на двух независимых друг от друга узлах сервера приложений.

Если логика сценария распределённой обработки предполагает транзакционность выполняемых операций, они должны быть включены в состав распределённой транзакции.
Требования к реализации запуска периодических задач по расписанию:
1. Реализовать утверждённые прецеденты с использованием планировщика задач Quartz.

